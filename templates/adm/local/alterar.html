{% extends "adm/base_adm.html" %}


{% block content %}
<main>
    <section class="form-section">
        <h2>Alterar Local</h2>
        <form id="localForm" method="POST" action="/adm/local/salvar_alterar">
            <input type="hidden" name="idt_local" value="{{ local.idt_local }}">

            <div class="form-group">
                <label for="nme_local">Nome do Local:</label>
                <input type="text" id="nme_local" name="nme_local" maxlength="50" required
                       value="{{ local.nme_local }}">
            </div>

            <div class="form-group">
                <label for="cod_setor">Setor:</label>
                <select id="cod_setor" name="cod_setor" required>
                    {% for setor in lst_setores %}
                        <option value="{{ setor.idt_setor }}" {% if setor.idt_setor == local.cod_setor %}selected{% endif %}>
                            {{ setor.sgl_setor }}-{{ setor.nme_setor }}
                        </option>
                    {% endfor %}
                </select>
            </div>

            <div class="form-group">
                <label for="lat_local">Latitude:</label>
                <input type="number" id="lat_local" name="lat_local" step="0.0000001" required
                       value="{{ local.lat_local }}">
            </div>

            <div class="form-group">
                <label for="lgt_local">Longitude:</label>
                <input type="number" id="lgt_local" name="lgt_local" step="0.0000001" required
                       value="{{ local.lgt_local }}">
            </div>

            <div class="form-group">
                <label>Status:</label>
                <div class="radio-group">
                    <label for="sts_ativo">
                        <input type="radio" id="sts_ativo" name="sts_local" value="A" required
                               {% if local.sts_local == 'A' %}checked{% endif %}> Ativo
                    </label>
                    <label for="sts_inativo">
                        <input type="radio" id="sts_inativo" name="sts_local" value="I" required
                               {% if local.sts_local == 'I' %}checked{% endif %}> Inativo
                    </label>
                </div>
            </div>

            <button type="submit" class="btn btn-primary">Salvar</button>
            <a class="btn btn-secondary" href="/adm/local/atualizar">Voltar</a>
        </form>
        <div id="mensagem" class="mensagem-retorno {{ css_msg }}">{{ msg }}</div>
    </section>
</main>
{% endblock %}